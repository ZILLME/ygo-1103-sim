# シミュレーション実践ガイド

兎ラギアの高速スパーをシミュレートする際の具体的な手順とコツをまとめました。

## 目次

1. [初手確率の検証](#初手確率の検証)
2. [強謙使用ターンのシミュレーション](#強謙使用ターンのシミュレーション)
3. [対面別の割り込み管理](#対面別の割り込み管理)
4. [ログ記録のベストプラクティス](#ログ記録のベストプラクティス)
5. [よくあるシナリオ](#よくあるシナリオ)

---

## 初手確率の検証

### 目的
デッキ構築の最適化や、実際の確率と理論値の比較

### 手順

1. **デッキを入力**
   ```
   レスキューラビット x3
   強欲で謙虚な壺 x3
   奈落の落とし穴 x2
   ...（以下略）
   ```

2. **統計を確認**
   - 画面上部に表示される確率を確認
   - 例：P(初手5に強謙≥1) = 32.32%

3. **複数回シミュレーション**
   - 「シャッフル」→「初手5枚ドロー」を繰り返す
   - 10回、20回、50回...と試行回数を増やす
   - 実際の出現率を記録

4. **結果の比較**
   - 理論値（画面上部の表示）と実際の出現率を比較
   - 大きな乖離がないか確認

### コツ
- シードが同じだと同じ結果になるため、時間を置いてから再度シャッフル
- エクスポート機能で状態を保存し、後で分析

---

## 強謙使用ターンのシミュレーション

### 目的
強欲で謙虚な壺を使用したターンの展開を練習

### 手順

1. **ゲーム開始**
   - シャッフル
   - 初手5枚ドロー
   - 先攻の場合は先攻ドロー（+1）

2. **フェイズをMP1に設定**
   - フェイズリングで「次 →」をクリックしてMP1へ

3. **強謙を使用**
   - 「強欲で謙虚な壺を使用」ボタンをクリック
   - ロック表示を確認（⚠️ 特殊召喚不可）

4. **展開の制約を確認**
   - 特殊召喚ボタンがグレーアウトしていることを確認
   - 通常召喚のみ可能であることを理解

5. **実際の展開をシミュレート**
   - 手札から通常召喚可能なカードを確認
   - 「通常召喚」ボタンで記録
   - 手札をクリックして使用済みにマーク

6. **ターン終了**
   - 「ターン終了」ボタンをクリック
   - ロックが解除されることを確認

### 注意点
- **1103ルール**: 強謙使用ターンは特殊召喚不可（ハルシ禁止）
- ターン終了までロックは継続
- 次のターンからは通常通り特殊召喚可能

---

## 対面別の割り込み管理

### 目的
対面デッキに応じた割り込みを想定し、展開を検討

### 手順

1. **対面デッキを選択**
   - 右上の「割り込み（相手反応）」パネル
   - 六武 / カラクリ / ジャンド / HERO / ミラー から選択

2. **想定される割り込みを確認**
   - 各デッキタイプの代表的な割り込みが表示される
   - 例：六武 → 神の警告、奈落の落とし穴、次元幽閉など

3. **展開を検討**
   - 相手が持っている可能性のある割り込みを想定
   - チェックボックスで「相手がこれを持っていた」を記録
   - 展開の優先順位を考える

4. **ログに記録**
   - 簡易行動ボタンで展開を記録
   - 割り込みが発動した場合は「罠発動」をクリック

### 実践例

#### 六武戦
- 神の警告（チェック済み）→ 特殊召喚に注意
- 奈落の落とし穴 → 攻撃力1500以上のモンスターに注意
- 次元幽閉 → 攻撃宣言時に注意

#### ミラー戦
- 神の警告、神の宣告 → 展開全般に注意
- ヴェーラーの呪詛 → 特殊召喚に注意
- 黒角笛 → 特殊召喚に注意

---

## ログ記録のベストプラクティス

### 目的
Notionに貼り付ける際に読みやすいログを作成

### 記録すべき内容

1. **各フェイズでの行動**
   - DP: ドロー（自動記録）
   - SP: 特に何もなければ記録不要
   - MP1: 召喚、発動、セットなど
   - BP: 攻撃宣言、ダメージステップ
   - MP2: 追加行動
   - EP: ターン終了

2. **重要な状態変化**
   - 強謙使用（自動記録）
   - 手札の公開（右クリックでマーク）
   - 使用済みカード（左クリックでマーク）

3. **対面の反応**
   - 割り込みの発動
   - チェーンの構築

### ログの例

```
# デュエルログ

**開始ターン**: 1
**現在フェイズ**: EP

⚠️ **強謙ロック中（特殊召喚不可）**

## 行動ログ

### T1 - DP
- デッキをシャッフル
- 初手5枚をドロー

### T1 - MP1
- 強欲で謙虚な壺を使用（このターンは特殊召喚不可）
- 通常召喚
- 魔法発動

### T1 - BP
- 攻撃宣言
- ダメージステップ

### T1 - EP
- ターン終了

## 現在の状態
- **手札**: 3枚
  - レスキューラビット [使用済み]
  - 強欲で謙虚な壺 [使用済み]
  - 奈落の落とし穴 [公開]
- **場**: 1枚
- **墓地**: 1枚
- **デッキ**: 36枚
```

### コツ
- 各フェイズで必ず行動を記録する
- 手札の状態（使用済み/公開）を適切にマーク
- ターン終了時にログを確認してからコピー

---

## よくあるシナリオ

### シナリオ1: 初手に強謙が来た場合

1. **初手ドロー**
   - 強謙が手札にあることを確認

2. **MP1で強謙を使用**
   - 「強欲で謙虚な壺を使用」をクリック
   - ロック表示を確認

3. **展開の制約を理解**
   - 特殊召喚不可
   - 通常召喚のみ可能

4. **最適な展開を検討**
   - 通常召喚可能なカードを確認
   - 次のターンへの布石を考える

### シナリオ2: 先攻で強謙を使わない場合

1. **初手ドロー**
   - 強謙が手札にあるが、使わない選択

2. **展開を優先**
   - 特殊召喚で展開
   - 強謙は次のターンに回す

3. **ログに記録**
   - 「特殊召喚」をクリック
   - 強謙は使用済みにマークしない

### シナリオ3: 対面の割り込みを想定した展開

1. **対面デッキを選択**
   - 例：六武を選択

2. **想定される割り込みを確認**
   - 神の警告（チェック済み）
   - 奈落の落とし穴

3. **安全な展開を検討**
   - 神の警告を避けるため、特殊召喚の回数を減らす
   - 奈落を避けるため、攻撃力1500未満から展開

4. **ログに記録**
   - 展開の流れを記録
   - 割り込みが発動した場合は「罠発動」をクリック

### シナリオ4: 複数ターンにわたるシミュレーション

1. **T1の記録**
   - 初手ドロー
   - 展開
   - ターン終了

2. **T2の記録**
   - ドローフェイズ（手動でフェイズを変更）
   - 展開
   - ターン終了

3. **ログの確認**
   - 各ターンの行動が正しく記録されているか確認
   - 必要に応じて編集

4. **エクスポート**
   - 途中経過を保存
   - 後で続きから再開可能

---

## 実践的な使い方のコツ

### 1. デッキ入力の効率化
- デッキリストをテキストファイルで管理
- コピー&ペーストで素早く入力
- 枚数指定を統一（`x3`形式を推奨）

### 2. 複数回のシミュレーション
- 同じデッキで10回、20回と試行
- エクスポート機能で各試行を保存
- 結果を比較分析

### 3. ログの活用
- 各試行のログをNotionに保存
- パターンを分析
- 改善点を見つける

### 4. フェイズ管理の徹底
- 各フェイズで必ずフェイズリングを更新
- フェイズごとの行動を明確に記録
- ログの可読性が向上

### 5. 手札管理の重要性
- 使用済み/未使用を適切にマーク
- 公開カードは右クリックで管理
- ログに正確に反映される

---

## トラブルシューティング（実践編）

### Q: 複数回シミュレーションしたいが、毎回手動で入力するのが大変

**A**: 
- デッキ入力はlocalStorageに自動保存されるため、ページをリロードしても残ります
- エクスポート機能で状態を保存し、後で比較分析

### Q: ログが長くなりすぎて読みにくい

**A**: 
- ターンごとにエクスポートして分割
- Notionで見出しを追加して整理
- 重要な部分だけをコピー

### Q: 強謙ロックを忘れて特殊召喚してしまった

**A**: 
- ログを確認して、該当部分を手動で編集
- 次回からはロック表示を確認してから行動

### Q: 対面の割り込みを想定しきれない

**A**: 
- 各デッキタイプの代表的な割り込みを確認
- 実際の対戦経験を元に、チェックボックスを活用
- ログに「想定される割り込み」として記録

---

## まとめ

このシミュレーターを活用することで：

1. **初手確率の検証**: 理論値と実際の出現率を比較
2. **強謙使用ターンの練習**: 制約下での展開を習得
3. **対面別の対策**: 各デッキタイプへの対策を検討
4. **ログの記録**: Notionで分析・共有

効率的に兎ラギアの高速スパーをシミュレートできます。

---

## 参考リンク

- [詳細マニュアル](./MANUAL.md)
- [README](./README.md)
